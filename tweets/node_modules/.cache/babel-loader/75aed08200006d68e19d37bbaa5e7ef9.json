{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Jagru/Desktop/IR_final/CSE_4535_Fall_2021/App/tweets/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Jagru/Desktop/IR_final/CSE_4535_Fall_2021/App/tweets/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Jagru/Desktop/IR_final/CSE_4535_Fall_2021/App/tweets/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import logo from\"./logo.svg\";import'./App.css';import'bootstrap/dist/css/bootstrap.min.css';import{Button,Navbar,Nav,Form,InputGroup,FormControl,FormGroup,Row,Col,Container,Tabs,Tab}from'react-bootstrap';import{useState,useRef,useLayoutEffect}from'react';import{Bar,Pie}from'react-chartjs-2';import Chart from'chart.js/auto';import axios from\"axios\";import Pagination from'./components/pagination';import OverallAnalysis from'./components/OverallAnalysis';import BlockUi from'react-block-ui';import'react-block-ui/style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var ref=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),block=_useState2[0],setBlock=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),keyword=_useState4[0],setKeyword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),flag=_useState6[0],setFlag=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),navlink=_useState8[0],setNavlink=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),poi=_useState10[0],setPoi=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),country=_useState12[0],setCountry=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),query_data=_useState14[0],setQuery_data=_useState14[1];var _useState15=useState(1),_useState16=_slicedToArray(_useState15,2),active=_useState16[0],setActive=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),page=_useState18[0],setPages=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),pagination=_useState20[0],setPagination=_useState20[1];var _useState21=useState(\"POI\"),_useState22=_slicedToArray(_useState21,2),tKey=_useState22[0],settKey=_useState22[1];var _useState23=useState(true),_useState24=_slicedToArray(_useState23,2),poi_flag=_useState24[0],setpoi_flag=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),news=_useState26[0],setnews=_useState26[1];var _useState27=useState([]),_useState28=_slicedToArray(_useState27,2),news_data=_useState28[0],setnews_data=_useState28[1];var _useState29=useState([\"#99ff99\",\"#ff9999\",\"#66a3ff\",\"#800080\",\"#FFFF00\",\"#00FF00\",\"#FF00FF\",\"#FFC0CB\",\"#FFA500\",\"#800000\",\"#008000\",\"#7FFD4\",\"#808000\",\"#808080\",\"#FFFFFF\",\"#A52A2A\"]),_useState30=_slicedToArray(_useState29,2),colors=_useState30[0],setColors=_useState30[1];var _useState31=useState({labels:[],datasets:[{label:'',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState32=_slicedToArray(_useState31,2),p_n_sentiment=_useState32[0],setp_n_sentiment=_useState32[1];var _useState33=useState({labels:[],datasets:[{label:'',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState34=_slicedToArray(_useState33,2),p_n_political=_useState34[0],setp_n_political=_useState34[1];var _useState35=useState({labels:[],datasets:[{label:'',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState36=_slicedToArray(_useState35,2),p_n_v_info=_useState36[0],setp_n_v_info=_useState36[1];var _useState37=useState({labels:[],datasets:[{label:'',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState38=_slicedToArray(_useState37,2),v_hecitancy=_useState38[0],setv_hecitancy=_useState38[1];var _useState39=useState({labels:[],datasets:[{label:'',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState40=_slicedToArray(_useState39,2),query_POI_vs_tweet_count=_useState40[0],setQuery_POI_vs_tweet_count=_useState40[1];var _useState41=useState({labels:[],datasets:[{label:'',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState42=_slicedToArray(_useState41,2),querysumsentiment=_useState42[0],setquerysumsentiment=_useState42[1];var _useState43=useState({labels:[],datasets:[{label:'',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState44=_slicedToArray(_useState43,2),query_country_vs_tweet_count=_useState44[0],setQuery_country_vs_tweet_count=_useState44[1];var _useState45=useState({labels:[],datasets:[{label:'',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState46=_slicedToArray(_useState45,2),Overall_POI_vs_tweet_count=_useState46[0],setOverall_POI_vs_tweet_count=_useState46[1];var _useState47=useState({labels:[],datasets:[{label:'',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState48=_slicedToArray(_useState47,2),Overall_country_vs_tweet_count=_useState48[0],setOverall_country_vs_tweet_count=_useState48[1];var _useState49=useState({labels:[],datasets:[{label:'',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState50=_slicedToArray(_useState49,2),Overall_language_vs_tweet_count=_useState50[0],setOverall_language_vs_tweet_count=_useState50[1];var _useState51=useState({labels:[],datasets:[{label:'',backgroundColor:'rgba(75,192,192,1)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState52=_slicedToArray(_useState51,2),querytweetsentiment=_useState52[0],setQuerytweetsentiment=_useState52[1];var _useState53=useState({labels:[],datasets:[{label:'',backgroundColor:'rgb(54, 162, 235)',borderColor:'rgba(0,0,0,1)',borderWidth:2,data:[]}]}),_useState54=_slicedToArray(_useState53,2),state=_useState54[0],setState=_useState54[1];var setResonseData=function setResonseData(data,i){var keys=Object.keys(data);var vals=Object.values(data);var lab=[];var dat=[];var bcolor=[];for(var _i=0;_i<keys.length;_i++){if(vals[_i]>0){lab.push(keys[_i]);dat.push(vals[_i]);}bcolor.push(colors[_i]);}if(i==1){setQuery_POI_vs_tweet_count({labels:lab,datasets:[{label:'Query_POI_vs_tweet_count',backgroundColor:bcolor,borderColor:'rgba(0,0,0,1)',borderWidth:1,data:dat}]});}else if(i==2){setQuery_country_vs_tweet_count({labels:lab,datasets:[{label:'Query_country_vs_tweet_count',backgroundColor:bcolor,borderColor:'rgba(0,0,0,1)',borderWidth:1,data:dat}]});}else if(i==4){var l=['postive_tweet_percentage','neutral_tweet_percentage','negative_tweet_percentage'];var d=[];d.push(vals[0]);d.push(vals[2]);d.push(vals[3]);console.log(\"dileep\");setQuerytweetsentiment({labels:l,datasets:[{label:'Query_country_vs_tweet_count',backgroundColor:bcolor,borderColor:'rgba(0,0,0,1)',borderWidth:1,data:d}]});var l1=[\"sum_of_positive_sentiment\",\"sum_of_negative_sentiment\"];var d1=[];d1.push(vals[1]);d1.push(vals[4]*-1);console.log(vals);setquerysumsentiment({labels:l1,datasets:[{label:'Query_country_vs_tweet_count',backgroundColor:bcolor,borderColor:'rgba(0,0,0,1)',borderWidth:1,data:d1}]});}handlenotsetBlock();};var _useState55=useState(\"http://18.217.156.180:8000/search/\"),_useState56=_slicedToArray(_useState55,2),baseURL=_useState56[0],setBaseUrl=_useState56[1];var getSerachResults=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(country);_context.prev=1;_context.next=4;return axios.post(baseURL,JSON.stringify({\"poi_name\":poi,\"country\":country,\"search_query\":keyword,\"start\":0,\"poi_flag\":true})).then(function(response){console.log(response);var num=response.data.response.numFound;var size=Math.floor(num/10);if(num%10==0){setPages(size);}else{setPages(size+1);}setQuery_data(response.data.response.docs);var response_keys=Object.keys(response.data);for(var i=0;i<response_keys.length;i++){if(response_keys[i]!='response'){setResonseData(response.data[response_keys[i]],i);}}});case 4:axios.get(\"https://gnews.io/api/v4/search?q=\".concat(keyword,\"&token=f853c18f30683375a6c87b483f74e432\")).then(function(response){console.log(response);var resp=response.data.articles;setnews(resp);var data=[];for(var i=0;i<10;i++){data.push(resp[i]);}setnews_data(data);});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);handlenotsetBlock();case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function getSerachResults(){return _ref.apply(this,arguments);};}();var getGeneralResults=function getGeneralResults(){console.log(poi_flag);axios.post(baseURL,JSON.stringify({\"poi_name\":poi,\"country\":country,\"search_query\":keyword,\"start\":0,\"poi_flag\":false})).then(function(response){console.log(response);var num=response.data.response.numFound;var size=Math.floor(num/10);if(num%10==0){setPages(size);}else{setPages(size+1);}setQuery_data(response.data.response.docs);var response_keys=Object.keys(response.data);for(var i=0;i<response_keys.length;i++){if(response_keys[i]!='response'){setResonseData(response.data[response_keys[i]],i);}}});};var handlePageChange=function handlePageChange(page,flag){handlesetBlock();var p=0;if(flag==0){p=page-1;}else if(flag==1){p=page;}else if(flag==2){p=page-2;}axios.post(baseURL,JSON.stringify({\"poi_name\":poi,\"country\":country,\"search_query\":keyword,\"start\":p*10,\"poi_flag\":poi_flag})).then(function(response){setQuery_data(response.data.response.docs);handlenotsetBlock();setResonseData(response.data.query_sentiment_analysis,4);});};// const handleBlock=()=>{\n//   setBlock(true)\n// }\nvar handleSearch=function handleSearch(){console.log(ref.current);if(flag){// ref.current.changePage()\nsetPagination(true);}handlesetBlock();setFlag(true);getSerachResults();};var handlePagination=function handlePagination(){setPagination(false);};var countries_dropdown=[\"USA\",\"INDIA\",\"MEXICO\"];var pois_dropdown=[\"narendramodi\",\"drharshvardhan\",\"MoHFW_INDIA\",\"ysjagan\",\"smritiirani\",\"HHSGov\",\"JoeBiden\",\"KamalaHarris\",\"XavierBecerra\",\"GavinNewsom\",\"lopezobrador_\",\"SSaludCdMx\",\"SSalud_mx\",\"SecSaludBAQ\",\"MartinOrozcoAgs\"];var getOverviewData=function getOverviewData(){axios.post(\"http://18.217.156.180:8000/overview/\",JSON.stringify({\"poi_name\":\"*\",\"country\":\"\",\"search_query\":\"\",\"start\":0})).then(function(response){console.log(response);if(response.data.Overall_POI_vs_tweet_count){var bcolor=[];for(var i=0;i<Object.keys(response.data.Overall_POI_vs_tweet_count).length;i++){bcolor.push(colors[i]);}console.log(bcolor);setOverall_POI_vs_tweet_count({labels:Object.keys(response.data.Overall_POI_vs_tweet_count),datasets:[{label:'Overall_POI_vs_tweet_count',backgroundColor:bcolor,borderColor:'rgba(0,0,0,1)',borderWidth:2,data:Object.values(response.data.Overall_POI_vs_tweet_count)}]});}if(response.data.Overall_country_vs_tweet_count){var _bcolor=[];for(var _i2=0;_i2<Object.keys(response.data.Overall_country_vs_tweet_count).length;_i2++){_bcolor.push(colors[_i2]);}console.log(_bcolor);setOverall_country_vs_tweet_count({labels:Object.keys(response.data.Overall_country_vs_tweet_count),datasets:[{label:'Overall_POI_vs_tweet_count',backgroundColor:_bcolor,borderColor:'rgba(0,0,0,1)',borderWidth:2,data:Object.values(response.data.Overall_country_vs_tweet_count)}]});}if(response.data.Overall_language_vs_tweet_count){var _bcolor2=[];for(var _i3=0;_i3<Object.keys(response.data.Overall_language_vs_tweet_count).length;_i3++){_bcolor2.push(colors[_i3]);}console.log(_bcolor2);setOverall_language_vs_tweet_count({labels:Object.keys(response.data.Overall_language_vs_tweet_count),datasets:[{label:'Overall_country_vs_tweet_count',backgroundColor:_bcolor2,borderColor:'rgba(0,0,0,1)',borderWidth:2,data:Object.values(response.data.Overall_language_vs_tweet_count)}]});}if(response.data.Overall_insights){var keys=Object.keys(response.data.Overall_insights);var values=Object.values(response.data.Overall_insights);var _bcolor3=[];for(var _i4=0;_i4<2;_i4++){_bcolor3.push(colors[_i4]);}var p_keysenti=[];p_keysenti.push(keys[0]);p_keysenti.push(keys[1]);var p_valsenti=[];p_valsenti.push(values[0]);p_valsenti.push(values[1]);var p_keysenti1=[];p_keysenti1.push(keys[2]);p_keysenti1.push(keys[3]);var p_valsenti1=[];p_valsenti1.push(values[2]);p_valsenti1.push(values[3]);var p_keysenti2=[];p_keysenti2.push(keys[4]);p_keysenti2.push(keys[5]);var p_valsenti2=[];p_valsenti2.push(values[4]);p_valsenti2.push(values[5]);var p_keysenti3=[];p_keysenti3.push(keys[5]);p_keysenti3.push(keys[6]);var p_valsenti3=[];p_valsenti3.push(values[5]);p_valsenti3.push(values[6]);setp_n_sentiment({labels:p_keysenti,datasets:[{label:'overall sentiment analysis',backgroundColor:_bcolor3,borderColor:'rgba(0,0,0,1)',borderWidth:2,data:p_valsenti}]});setp_n_political({labels:p_keysenti1,datasets:[{label:'overall policatal rhetoric analysis',backgroundColor:_bcolor3,borderColor:'rgba(0,0,0,1)',borderWidth:2,data:p_valsenti1}]});setp_n_v_info({labels:p_keysenti2,datasets:[{label:'overall vaccine disinfo analysis',backgroundColor:_bcolor3,borderColor:'rgba(0,0,0,1)',borderWidth:2,data:p_valsenti2}]});setv_hecitancy({labels:p_keysenti3,datasets:[{label:'overall Persuation against vaccine disinfo analysis',backgroundColor:_bcolor3,borderColor:'rgba(0,0,0,1)',borderWidth:2,data:p_valsenti3}]});// let bcolor = []\n// for (let i = 0; i < Object.keys(response.data.Overall_language_vs_tweet_count).length; i++) {\n//   bcolor.push(colors[i])\n// }\n// console.log(bcolor)\n// setOverall_language_vs_tweet_count({\n//   labels: Object.keys(response.data.Overall_language_vs_tweet_count), datasets: [\n//     {\n//       label: 'Overall_country_vs_tweet_count',\n//       backgroundColor: bcolor,\n//       borderColor: 'rgba(0,0,0,1)',\n//       borderWidth: 2,\n//       data: Object.values(response.data.Overall_language_vs_tweet_count)\n//     }\n//   ]\n// })\n}handlenotsetBlock();});};var handleOverview=function handleOverview(){handlesetBlock();setNavlink(false);getOverviewData();};var handlesetBlock=function handlesetBlock(){setBlock(true);};var handlenotsetBlock=function handlenotsetBlock(){setBlock(false);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(BlockUi,{tag:\"div\",blocking:block,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Navbar,{bg:\"dark\",variant:\"dark\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{children:\"Twitter\"}),/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{onClick:function onClick(){return setNavlink(true);},children:\"Home\"}),/*#__PURE__*/_jsx(Nav.Link,{onClick:handleOverview,children:\"Overview Analytics\"})]})]})})}),navlink&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:flag?'top-screen':'center-screen',children:/*#__PURE__*/_jsxs(FormGroup,{style:{width:\"90%\",display:'flex',marginLeft:'5em',marginTop:'1em'},children:[/*#__PURE__*/_jsx(InputGroup,{style:{width:flag?'30%':'80%',height:\"70%\"},children:/*#__PURE__*/_jsx(FormControl,{value:keyword,placeholder:\"Search\",\"aria-label\":\"keyword\",\"aria-describedby\":\"basic-addon1\",onChange:function onChange(e){setKeyword(e.target.value);}})}),/*#__PURE__*/_jsx(Button,{style:{marginLeft:'10px',width:\"6em\",height:'2.4em'},disabled:keyword!=\"\"?false:true,onClick:handleSearch,children:\"Search\"}),flag&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginLeft:'6%'},children:[/*#__PURE__*/_jsxs(Form.Group,{style:{display:'flex'},children:[/*#__PURE__*/_jsx(Form.Label,{children:\"POI\"}),/*#__PURE__*/_jsxs(Form.Select,{value:poi,onChange:function onChange(e){return setPoi(e.target.value);},style:{marginLeft:'0.5em',width:\"11em\",marginRight:'0.5em'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose...\"}),pois_dropdown.map(function(poii,i){return/*#__PURE__*/_jsx(\"option\",{value:poii,children:poii},i);})]})]}),/*#__PURE__*/_jsxs(Form.Group,{style:{display:'flex'},children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Country\"}),/*#__PURE__*/_jsxs(Form.Select,{value:country,onChange:function onChange(e){return setCountry(e.target.value);},style:{marginLeft:'0.5em',width:\"11em\",marginRight:'0.5em'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose...\"}),countries_dropdown.map(function(countr,i){return/*#__PURE__*/_jsx(\"option\",{value:countr,children:countr},i);})]})]})]})]})}),flag&&/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{xs:4,sm:4,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Tweets Search Results\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(Tabs,{id:\"controlled-tab-example\",activeKey:tKey,onSelect:function onSelect(k){settKey(k);console.log(k);if(k==\"POI\"){handlesetBlock();setpoi_flag(true);getSerachResults();}else if(k==\"General\"){handlesetBlock();setpoi_flag(false);getGeneralResults();}},className:\"mb-3\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"POI\",title:\"POI Results\"}),/*#__PURE__*/_jsx(Tab,{eventKey:\"General\",title:\"General Results\"})]}),query_data.length>0&&query_data.map(function(res,i){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:'@'+res.poi_name?res.poi_name:\"General\"},i),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"0.8em\"},children:res.tweet_text}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"0.8em\"},children:[\"Sentiment: \",res.sentiment]})]},i)});}),query_data.length>0&&/*#__PURE__*/_jsx(Pagination,{pages:page,handlePageChange:handlePageChange,pagination:pagination,handlePagination:handlePagination,ref:ref})]}),/*#__PURE__*/_jsxs(Col,{xs:4,sm:4,children:[/*#__PURE__*/_jsx(\"b\",{children:\"News Search Results\"}),/*#__PURE__*/_jsx(\"hr\",{}),news&&news_data.map(function(res,i){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:'@'+res.source.name},i),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"0.8em\"},children:res.content})]},i)});})]}),/*#__PURE__*/_jsxs(Col,{xs:4,sm:4,children:[/*#__PURE__*/_jsx(\"b\",{children:\" Search Results Analysis\"}),/*#__PURE__*/_jsx(\"hr\",{}),query_data.length>0&&poi_flag&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{style:{marginLeft:\"5em\"},children:\"Plot for POI tweets Count\"}),/*#__PURE__*/_jsx(Bar,{data:query_POI_vs_tweet_count})]}),query_data.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{style:{marginLeft:\"5em\"},children:\"Plot for Country wise tweet Count\"}),/*#__PURE__*/_jsx(Bar,{data:query_country_vs_tweet_count})]}),query_data.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{style:{marginLeft:\"5em\"},children:\"Plot for tweet sentiment \"}),/*#__PURE__*/_jsx(Pie,{data:querytweetsentiment})]}),query_data.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{style:{marginLeft:\"1em\"},children:\"Plot for sum of overall tweet sentiment\"}),/*#__PURE__*/_jsx(Bar,{data:querysumsentiment})]})]})]})})]}),!navlink&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(OverallAnalysis,{Overall_POI_vs_tweet_count:Overall_POI_vs_tweet_count,Overall_country_vs_tweet_count:Overall_country_vs_tweet_count,Overall_language_vs_tweet_count:Overall_language_vs_tweet_count,v_hecitancy:v_hecitancy,p_n_v_info:p_n_v_info,p_n_political:p_n_political,p_n_sentiment:p_n_sentiment})})]})});}export default App;","map":{"version":3,"sources":["C:/Users/Jagru/Desktop/IR_final/CSE_4535_Fall_2021/App/tweets/src/App.js"],"names":["Button","Navbar","Nav","Form","InputGroup","FormControl","FormGroup","Row","Col","Container","Tabs","Tab","useState","useRef","useLayoutEffect","Bar","Pie","Chart","axios","Pagination","OverallAnalysis","BlockUi","App","ref","block","setBlock","keyword","setKeyword","flag","setFlag","navlink","setNavlink","poi","setPoi","country","setCountry","query_data","setQuery_data","active","setActive","page","setPages","pagination","setPagination","tKey","settKey","poi_flag","setpoi_flag","news","setnews","news_data","setnews_data","colors","setColors","labels","datasets","label","backgroundColor","borderColor","borderWidth","data","p_n_sentiment","setp_n_sentiment","p_n_political","setp_n_political","p_n_v_info","setp_n_v_info","v_hecitancy","setv_hecitancy","query_POI_vs_tweet_count","setQuery_POI_vs_tweet_count","querysumsentiment","setquerysumsentiment","query_country_vs_tweet_count","setQuery_country_vs_tweet_count","Overall_POI_vs_tweet_count","setOverall_POI_vs_tweet_count","Overall_country_vs_tweet_count","setOverall_country_vs_tweet_count","Overall_language_vs_tweet_count","setOverall_language_vs_tweet_count","querytweetsentiment","setQuerytweetsentiment","state","setState","setResonseData","i","keys","Object","vals","values","lab","dat","bcolor","length","push","l","d","console","log","l1","d1","handlenotsetBlock","baseURL","setBaseUrl","getSerachResults","post","JSON","stringify","then","response","num","numFound","size","Math","floor","docs","response_keys","get","resp","articles","getGeneralResults","handlePageChange","handlesetBlock","p","query_sentiment_analysis","handleSearch","current","handlePagination","countries_dropdown","pois_dropdown","getOverviewData","Overall_insights","p_keysenti","p_valsenti","p_keysenti1","p_valsenti1","p_keysenti2","p_valsenti2","p_keysenti3","p_valsenti3","handleOverview","width","display","marginLeft","marginTop","height","e","target","value","marginRight","map","poii","countr","k","res","poi_name","fontSize","tweet_text","sentiment","source","name","content"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, Navbar, Nav, Form, InputGroup, FormControl, FormGroup, Row, Col, Container, Tabs, Tab } from 'react-bootstrap';\nimport { useState, useRef, useLayoutEffect } from 'react';\nimport { Bar, Pie } from 'react-chartjs-2';\nimport Chart from 'chart.js/auto';\nimport axios from \"axios\";\nimport Pagination from './components/pagination';\nimport OverallAnalysis from './components/OverallAnalysis';\nimport BlockUi from 'react-block-ui';\nimport 'react-block-ui/style.css';\nfunction App() {\n  const ref = useRef(null)\n  const [block, setBlock] = useState(false)\n  const [keyword, setKeyword] = useState(\"\")\n  const [flag, setFlag] = useState(false)\n  const [navlink, setNavlink] = useState(true)\n  const [poi, setPoi] = useState(\"\")\n  const [country, setCountry] = useState(\"\")\n  const [query_data, setQuery_data] = useState([])\n  const [active, setActive] = useState(1)\n  const [page, setPages] = useState()\n  const [pagination, setPagination] = useState(false)\n  const [tKey, settKey] = useState(\"POI\")\n  const [poi_flag, setpoi_flag] = useState(true)\n  const [news,setnews]=useState([])\n  const [news_data,setnews_data]=useState([])\n  const [colors, setColors] = useState([\n    \"#99ff99\",\n    \"#ff9999\",\n    \"#66a3ff\",\n    \"#800080\",\n    \"#FFFF00\",\n    \"#00FF00\",\n    \"#FF00FF\",\n    \"#FFC0CB\",\n    \"#FFA500\",\n    \"#800000\",\n    \"#008000\",\n    \"#7FFD4\",\n    \"#808000\",\n    \"#808080\",\n    \"#FFFFFF\",\n    \"#A52A2A\"\n  ])\n\n const [p_n_sentiment,setp_n_sentiment] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n\n  const [p_n_political,setp_n_political] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n\n  const [p_n_v_info,setp_n_v_info] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n\n  const [v_hecitancy,setv_hecitancy] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n  const [query_POI_vs_tweet_count, setQuery_POI_vs_tweet_count] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n  const [querysumsentiment, setquerysumsentiment] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n  const [query_country_vs_tweet_count, setQuery_country_vs_tweet_count] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n  const [Overall_POI_vs_tweet_count, setOverall_POI_vs_tweet_count] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n\n  const [Overall_country_vs_tweet_count, setOverall_country_vs_tweet_count] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n\n  const [Overall_language_vs_tweet_count, setOverall_language_vs_tweet_count] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n  const [querytweetsentiment, setQuerytweetsentiment] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgba(75,192,192,1)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n\n  const [state, setState] = useState({\n    labels: [], datasets: [\n      {\n        label: '',\n        backgroundColor: 'rgb(54, 162, 235)',\n        borderColor: 'rgba(0,0,0,1)',\n        borderWidth: 2,\n        data: []\n      }\n    ]\n  })\n\n  const setResonseData = (data, i) => {\n    let keys = Object.keys(data)\n    let vals = Object.values(data)\n    let lab = []\n    let dat = []\n    let bcolor = []\n\n    for (let i = 0; i < keys.length; i++) {\n      if (vals[i] > 0) {\n        lab.push(keys[i]);\n        dat.push(vals[i])\n      }\n      bcolor.push(colors[i])\n    }\n    if (i == 1) {\n      setQuery_POI_vs_tweet_count({\n        labels: lab, datasets: [\n          {\n            label: 'Query_POI_vs_tweet_count',\n            backgroundColor: bcolor,\n            borderColor: 'rgba(0,0,0,1)',\n            borderWidth: 1,\n            data: dat\n          }\n        ]\n      })\n\n    }\n    else if (i == 2) {\n      setQuery_country_vs_tweet_count({\n        labels: lab, datasets: [\n          {\n            label: 'Query_country_vs_tweet_count',\n            backgroundColor: bcolor,\n            borderColor: 'rgba(0,0,0,1)',\n            borderWidth: 1,\n            data: dat\n          }\n        ]\n      })\n    }\n    else if (i == 4) {\n      let l = ['postive_tweet_percentage', 'neutral_tweet_percentage', 'negative_tweet_percentage']\n      let d = []\n      d.push(vals[0])\n      d.push(vals[2])\n      d.push(vals[3])\n      console.log(\"dileep\")\n      setQuerytweetsentiment({\n        labels: l, datasets: [\n          {\n            label: 'Query_country_vs_tweet_count',\n            backgroundColor: bcolor,\n            borderColor: 'rgba(0,0,0,1)',\n            borderWidth: 1,\n            data: d\n          }\n        ]\n      })\n      let l1 = [\"sum_of_positive_sentiment\", \"sum_of_negative_sentiment\"]\n      let d1 = []\n      d1.push(vals[1])\n      d1.push((vals[4])*-1)\n      console.log(vals)\n      setquerysumsentiment({\n        labels: l1, datasets: [\n          {\n            label: 'Query_country_vs_tweet_count',\n            backgroundColor: bcolor,\n            borderColor: 'rgba(0,0,0,1)',\n            borderWidth: 1,\n            data: d1\n          }\n        ]\n      })\n\n    }\n    handlenotsetBlock()\n  }\n  const [baseURL, setBaseUrl] = useState(\"http://18.217.156.180:8000/search/\")\n  const getSerachResults = async() => {\n    console.log(country)\n    try{\n\n    \n    await axios\n      .post(baseURL, JSON.stringify({\n        \"poi_name\": poi,\n        \"country\": country,\n        \"search_query\": keyword,\n        \"start\": 0,\n        \"poi_flag\": true\n      }))\n      .then((response) => {\n        console.log(response)\n        let num = response.data.response.numFound\n        let size = Math.floor(num / 10)\n        if (num % 10 == 0) {\n          setPages(size)\n        }\n        else {\n          setPages(size + 1)\n        }\n        setQuery_data(response.data.response.docs);\n        let response_keys = Object.keys(response.data)\n        for (let i = 0; i < response_keys.length; i++) {\n          if (response_keys[i] != 'response') {\n            setResonseData(response.data[response_keys[i]], i)\n          }\n\n        }\n\n      })\n\n     axios.get(`https://gnews.io/api/v4/search?q=${keyword}&token=f853c18f30683375a6c87b483f74e432`).then((response)=>{\n      console.log(response)\n      let resp=response.data.articles\n      setnews(resp)\n      let data=[]\n      for(let i=0; i<10;i++){\n        data.push(resp[i])\n      }\n      setnews_data(data)\n    })\n  }\n  catch{\n    handlenotsetBlock()\n  }\n  }\n  const getGeneralResults = () => {\n    console.log(poi_flag)\n    axios\n      .post(baseURL, JSON.stringify({\n        \"poi_name\": poi,\n        \"country\": country,\n        \"search_query\": keyword,\n        \"start\": 0,\n        \"poi_flag\": false\n      }))\n      .then((response) => {\n        console.log(response)\n        let num = response.data.response.numFound\n        let size = Math.floor(num / 10)\n        if (num % 10 == 0) {\n          setPages(size)\n        }\n        else {\n          setPages(size + 1)\n        }\n        setQuery_data(response.data.response.docs);\n        let response_keys = Object.keys(response.data)\n        for (let i = 0; i < response_keys.length; i++) {\n          if (response_keys[i] != 'response') {\n            setResonseData(response.data[response_keys[i]], i)\n          }\n\n        }\n\n      })\n  }\n  const handlePageChange = (page, flag) => {\n    handlesetBlock()\n    let p = 0\n    if (flag == 0) {\n      p = page - 1;\n    }\n    else if (flag == 1) {\n      p = page;\n    }\n    else if (flag == 2) {\n      p = page - 2;\n    }\n    axios.post(baseURL, JSON.stringify({\n      \"poi_name\": poi,\n      \"country\": country,\n      \"search_query\": keyword,\n      \"start\": (p) * 10,\n      \"poi_flag\": poi_flag\n    }))\n      .then((response) => {\n        setQuery_data(response.data.response.docs);\n        handlenotsetBlock()\n        setResonseData(response.data.query_sentiment_analysis, 4)\n      })\n  }\n\n  // const handleBlock=()=>{\n  //   setBlock(true)\n  // }\n  const handleSearch = () => {\n    console.log(ref.current)\n    if (flag) {\n      // ref.current.changePage()\n      setPagination(true)\n    }\n    handlesetBlock()\n    setFlag(true);\n    getSerachResults();\n\n  }\n  const handlePagination = () => {\n    setPagination(false)\n  }\n  const countries_dropdown = [\"USA\", \"INDIA\", \"MEXICO\"]\n  const pois_dropdown = [\"narendramodi\", \"drharshvardhan\",\n    \"MoHFW_INDIA\",\n    \"ysjagan\",\n    \"smritiirani\",\n    \"HHSGov\",\n    \"JoeBiden\",\n    \"KamalaHarris\",\n    \"XavierBecerra\",\n    \"GavinNewsom\",\n    \"lopezobrador_\",\n    \"SSaludCdMx\",\n    \"SSalud_mx\",\n    \"SecSaludBAQ\",\n    \"MartinOrozcoAgs\"]\n\n  const getOverviewData = () => {\n     axios\n      .post(\"http://18.217.156.180:8000/overview/\", JSON.stringify({\n        \"poi_name\": \"*\",\n        \"country\": \"\",\n        \"search_query\": \"\",\n        \"start\": 0\n      }))\n      .then((response) => {\n        console.log(response)\n        if (response.data.Overall_POI_vs_tweet_count) {\n          let bcolor = []\n          for (let i = 0; i < Object.keys(response.data.Overall_POI_vs_tweet_count).length; i++) {\n            bcolor.push(colors[i])\n          }\n          console.log(bcolor)\n          setOverall_POI_vs_tweet_count({\n            labels: Object.keys(response.data.Overall_POI_vs_tweet_count), datasets: [\n              {\n                label: 'Overall_POI_vs_tweet_count',\n                backgroundColor: bcolor,\n                borderColor: 'rgba(0,0,0,1)',\n                borderWidth: 2,\n                data: Object.values(response.data.Overall_POI_vs_tweet_count)\n              }\n            ]\n          })\n        }\n\n        if (response.data.Overall_country_vs_tweet_count) {\n          let bcolor = []\n          for (let i = 0; i < Object.keys(response.data.Overall_country_vs_tweet_count).length; i++) {\n            bcolor.push(colors[i])\n          }\n          console.log(bcolor)\n          setOverall_country_vs_tweet_count({\n            labels: Object.keys(response.data.Overall_country_vs_tweet_count), datasets: [\n              {\n                label: 'Overall_POI_vs_tweet_count',\n                backgroundColor: bcolor,\n                borderColor: 'rgba(0,0,0,1)',\n                borderWidth: 2,\n                data: Object.values(response.data.Overall_country_vs_tweet_count)\n              }\n            ]\n          })\n        }\n        if (response.data.Overall_language_vs_tweet_count) {\n          let bcolor = []\n          for (let i = 0; i < Object.keys(response.data.Overall_language_vs_tweet_count).length; i++) {\n            bcolor.push(colors[i])\n          }\n          console.log(bcolor)\n          setOverall_language_vs_tweet_count({\n            labels: Object.keys(response.data.Overall_language_vs_tweet_count), datasets: [\n              {\n                label: 'Overall_country_vs_tweet_count',\n                backgroundColor: bcolor,\n                borderColor: 'rgba(0,0,0,1)',\n                borderWidth: 2,\n                data: Object.values(response.data.Overall_language_vs_tweet_count)\n              }\n            ]\n          })\n        }\n\n\n        if (response.data.Overall_insights) {\n\n          let keys=Object.keys(response.data.Overall_insights)\n\n          let values=Object.values(response.data.Overall_insights)\n\n          let bcolor = []\n          for (let i = 0; i < 2; i++) {\n            bcolor.push(colors[i])\n          }\n\n          let p_keysenti=[]\n          p_keysenti.push(keys[0])\n          p_keysenti.push(keys[1])\n\n          let p_valsenti=[]\n          p_valsenti.push(values[0])\n          p_valsenti.push(values[1])\n\n          let p_keysenti1=[]\n          p_keysenti1.push(keys[2])\n          p_keysenti1.push(keys[3])\n\n          let p_valsenti1=[]\n          p_valsenti1.push(values[2])\n          p_valsenti1.push(values[3])\n\n          let p_keysenti2=[]\n          p_keysenti2.push(keys[4])\n          p_keysenti2.push(keys[5])\n\n          let p_valsenti2=[]\n          p_valsenti2.push(values[4])\n          p_valsenti2.push(values[5])\n\n          let p_keysenti3=[]\n          p_keysenti3.push(keys[5])\n          p_keysenti3.push(keys[6])\n\n          let p_valsenti3=[]\n          p_valsenti3.push(values[5])\n          p_valsenti3.push(values[6])\n\n\n          setp_n_sentiment({\n            labels: p_keysenti, datasets: [\n              {\n                label: 'overall sentiment analysis',\n                backgroundColor: bcolor,\n                borderColor: 'rgba(0,0,0,1)',\n                borderWidth: 2,\n                data: p_valsenti\n              }\n            ]\n          })\n\n          setp_n_political({\n            labels: p_keysenti1, datasets: [\n              {\n                label: 'overall policatal rhetoric analysis',\n                backgroundColor: bcolor,\n                borderColor: 'rgba(0,0,0,1)',\n                borderWidth: 2,\n                data: p_valsenti1\n              }\n            ]\n          })\n\n          setp_n_v_info({\n            labels: p_keysenti2, datasets: [\n              {\n                label: 'overall vaccine disinfo analysis',\n                backgroundColor: bcolor,\n                borderColor: 'rgba(0,0,0,1)',\n                borderWidth: 2,\n                data: p_valsenti2\n              }\n            ]\n          })\n\n          setv_hecitancy({\n            labels: p_keysenti3, datasets: [\n              {\n                label: 'overall Persuation against vaccine disinfo analysis',\n                backgroundColor: bcolor,\n                borderColor: 'rgba(0,0,0,1)',\n                borderWidth: 2,\n                data: p_valsenti3\n              }\n            ]\n          })\n\n\n\n          // let bcolor = []\n          // for (let i = 0; i < Object.keys(response.data.Overall_language_vs_tweet_count).length; i++) {\n          //   bcolor.push(colors[i])\n          // }\n          // console.log(bcolor)\n          // setOverall_language_vs_tweet_count({\n          //   labels: Object.keys(response.data.Overall_language_vs_tweet_count), datasets: [\n          //     {\n          //       label: 'Overall_country_vs_tweet_count',\n          //       backgroundColor: bcolor,\n          //       borderColor: 'rgba(0,0,0,1)',\n          //       borderWidth: 2,\n          //       data: Object.values(response.data.Overall_language_vs_tweet_count)\n          //     }\n          //   ]\n          // })\n        }\n\n        handlenotsetBlock()\n      })\n  }\n  const handleOverview = () => {\n    handlesetBlock()\n    setNavlink(false)\n    getOverviewData()\n  }\n  const handlesetBlock = () => {\n    setBlock(true)\n  }\n  const handlenotsetBlock = () => {\n    setBlock(false)\n  }\n  return (\n    <div>\n      <BlockUi tag=\"div\" blocking={block}>\n        <div>\n          <Navbar bg=\"dark\" variant=\"dark\">\n            <Container>\n              <Navbar.Brand>Twitter</Navbar.Brand>\n              <Nav className=\"me-auto\">\n                <Nav.Link onClick={() => setNavlink(true)}>Home</Nav.Link>\n                <Nav.Link onClick={handleOverview}>Overview Analytics</Nav.Link>\n              </Nav>\n            </Container>\n          </Navbar>\n        </div>\n\n        {navlink &&\n          <div>\n            <div className={flag ? 'top-screen' : 'center-screen'}>\n\n              <FormGroup style={{ width: \"90%\", display: 'flex', marginLeft: '5em', marginTop: '1em' }}>\n                <InputGroup style={{ width: flag ? '30%' : '80%', height: \"70%\" }}>\n                  <FormControl\n                    value={keyword}\n                    placeholder=\"Search\"\n                    aria-label=\"keyword\"\n                    aria-describedby=\"basic-addon1\"\n                    onChange={(e) => { setKeyword(e.target.value) }}\n                  />\n                </InputGroup>\n                <Button style={{ marginLeft: '10px', width: \"6em\", height: '2.4em' }} disabled={keyword!=\"\"?false:true} onClick={handleSearch}>Search</Button>\n\n                {flag && <div style={{ display: 'flex', marginLeft: '6%' }}>\n                  <Form.Group style={{ display: 'flex' }}>\n                    <Form.Label>POI</Form.Label>\n                    <Form.Select value={poi} onChange={(e) => setPoi(e.target.value)} style={{ marginLeft: '0.5em', width: \"11em\", marginRight: '0.5em' }}>\n                      <option value=\"\">Choose...</option>\n                      {pois_dropdown.map((poii, i) =>\n                        <option key={i} value={poii}>{poii}</option>\n                      )\n                      }\n                    </Form.Select>\n                  </Form.Group>\n                  <Form.Group style={{ display: 'flex' }}>\n                    <Form.Label>Country</Form.Label>\n                    <Form.Select value={country} onChange={(e) => setCountry(e.target.value)} style={{ marginLeft: '0.5em', width: \"11em\", marginRight: '0.5em' }}>\n                      <option value=\"\">Choose...</option>\n                      {countries_dropdown.map((countr, i) =>\n                        <option key={i} value={countr}>{countr}</option>\n                      )\n                      }\n                    </Form.Select>\n                  </Form.Group>\n                </div>\n                }\n              </FormGroup>\n\n            </div>\n\n\n            {flag && <Container>\n\n              <Row>\n                <Col xs={4} sm={4} >\n                  <b>Tweets Search Results</b>\n                  <hr></hr>\n                  <Tabs\n                    id=\"controlled-tab-example\"\n                    activeKey={tKey}\n                    onSelect={(k) => {\n                      settKey(k);\n                      console.log(k)\n                      if (k == \"POI\") {\n                        handlesetBlock()\n                        setpoi_flag(true)\n                        getSerachResults()\n                      }\n                      else if (k == \"General\") {\n                        handlesetBlock()\n                        setpoi_flag(false);\n                        getGeneralResults()\n                      }\n                    }}\n                    className=\"mb-3\"\n                  >\n                    <Tab eventKey=\"POI\" title=\"POI Results\">\n                    </Tab>\n                    <Tab eventKey=\"General\" title=\"General Results\">\n                    </Tab>\n                  </Tabs>\n                  {query_data.length>0 && query_data.map((res, i) =>\n                    <>\n                      <p key={i}><b key={i}>{'@' + res.poi_name ? res.poi_name : \"General\"}</b> <br></br>\n                        <p style={{ fontSize: \"0.8em\" }}>{res.tweet_text}</p>\n                        <p style={{ fontSize: \"0.8em\" }}>Sentiment: {res.sentiment}</p>\n                      </p>\n                    </>\n                  )\n                  }\n                  {query_data.length>0 &&\n                    <Pagination pages={page} handlePageChange={handlePageChange} pagination={pagination} handlePagination={handlePagination} ref={ref}></Pagination>\n                  }\n                </Col>\n                <Col xs={4} sm={4}>\n                  <b>News Search Results</b>\n                  <hr></hr>\n                  { news && news_data.map((res,i)=>\n                  <>\n                  <p key={i}><b key={i}>{'@' + res.source.name}</b> <br></br>\n                        <p style={{ fontSize: \"0.8em\" }}>{res.content}</p>\n\n                      </p>\n                  </>\n                  )\n                  }\n                </Col>\n                <Col xs={4} sm={4}>\n                  <b> Search Results Analysis</b>\n                  <hr></hr>\n                  \n                  {query_data.length>0 && poi_flag && \n                  <>\n                  <br/>\n                  <b style={{marginLeft:\"5em\"}}>Plot for POI tweets Count</b>\n                  <Bar\n                    data={query_POI_vs_tweet_count}\n                  />\n                  </>\n                  }\n                  {query_data.length>0 &&\n                  <>\n                  <br/>\n                  <b style={{marginLeft:\"5em\"}}>Plot for Country wise tweet Count</b>\n                    <Bar\n                      data={query_country_vs_tweet_count}\n                    ></Bar>\n                    </>\n                  }\n                  {query_data.length>0 &&\n                  <>\n                  <br/>\n                  <b style={{marginLeft:\"5em\"}}>Plot for tweet sentiment </b>\n                    <Pie  data={querytweetsentiment}></Pie>\n                \n                  </>\n}\n                  \n                  {\n                    query_data.length>0 &&\n                    <>\n                    <br/>\n                    <b style={{marginLeft:\"1em\"}}>Plot for sum of overall tweet sentiment</b>\n                    <Bar data={querysumsentiment} />\n                    </>\n                  }\n                \n                </Col>\n              </Row>\n            </Container>\n            }\n          </div>\n        }\n        {!navlink && <div>\n          <OverallAnalysis\n            Overall_POI_vs_tweet_count={Overall_POI_vs_tweet_count}\n            Overall_country_vs_tweet_count={Overall_country_vs_tweet_count}\n            Overall_language_vs_tweet_count={Overall_language_vs_tweet_count}\n            v_hecitancy={v_hecitancy}\n            p_n_v_info={p_n_v_info}\n            p_n_political={p_n_political}\n            p_n_sentiment={p_n_sentiment}\n          ></OverallAnalysis>\n        </div>\n\n        }\n      </BlockUi>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}